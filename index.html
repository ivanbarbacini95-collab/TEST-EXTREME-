<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Injective â€¢ Portfolio</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js + zoom plugin (as in your JS) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>

  <script src="app.js" defer></script>
</head>

<body data-theme="dark">

  <!-- Toast host (events) -->
  <div class="toast-host" id="toastHost" aria-hidden="false"></div>

  <!-- Coming Soon overlay -->
  <div class="coming-soon" id="comingSoon" aria-hidden="true">
    <div class="coming-card" role="dialog" aria-modal="true">
      <div class="coming-title" id="comingTitle">COMING SOON ðŸš€</div>
      <div class="coming-sub" id="comingSub">PAGE is coming soon.</div>
      <button class="coming-close" id="comingClose">Close</button>
    </div>
  </div>

  <!-- Drawer backdrop + menu -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-top">
      <div class="drawer-title">Menu</div>

      <div class="drawer-toggles">
        <button class="toggle-btn" id="themeToggle" aria-label="Tema">
          <span id="themeIcon">ðŸŒ™</span>
        </button>

        <button class="toggle-btn" id="liveToggle" aria-label="ModalitÃ  Live/Refresh">
          <span id="liveIcon">ðŸ“¡</span>
        </button>
      </div>
    </div>

    <nav class="drawer-nav" id="drawerNav">
      <button class="nav-item active" data-page="dashboard">
        <span>Dashboard</span>
        <span class="nav-version">v2.0.2</span>
      </button>

      <button class="nav-item" data-page="events">
        <span>Events</span>
        <span class="nav-version">log</span>
      </button>

      <button class="nav-item" data-page="market">
        <span>Market</span>
        <span class="nav-version">soon</span>
      </button>

      <button class="nav-item" data-page="settings">
        <span>Settings</span>
        <span class="nav-version">soon</span>
      </button>

      <div class="nav-spacer"></div>
    </nav>

    <div class="drawer-foot">
      <div class="drawer-hint" id="modeHint">Mode: LIVE</div>

      <div class="drawer-meta">
        <div class="drawer-meta-row">
          <div class="drawer-meta-label">Cloud Sync</div>
          <div class="drawer-meta-value">
            <span class="cloud-dot ok" id="cloudDotMenu"></span>
            <span id="cloudTextMenu">Synced</span>
            <span style="opacity:.65" id="cloudPtsMenu">0 pts</span>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- APP ROOT -->
  <main class="container loading" id="appRoot">

    <!-- ================= HEADER ================= -->
    <header class="header" id="header">
      <div class="header-grid">
        <div class="header-left">
          <button class="menu-btn" id="menuBtn" aria-label="Menu">â‰¡</button>
        </div>

        <div class="header-center">
          <h1 class="brand-title">
            <span class="title-full">Injective Portfolio</span>
            <span class="title-compact">INJ</span><span class="dot">.</span>
          </h1>
          <div class="subtitle" id="subtitle">Dashboard</div>
        </div>

        <div class="header-right">
          <div class="search-wrap" id="searchWrap">
            <button class="icon-btn" id="searchBtn" aria-label="Search">âŒ•</button>
            <input id="addressInput" placeholder="inj..." autocomplete="off" spellcheck="false" />
          </div>
        </div>
      </div>

      <div class="header-meta-right">
        <div class="address-display" id="addressDisplay"></div>

        <div class="connection-status">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="statusText">Offline</span>
        </div>
      </div>
    </header>

    <!-- ================= PAGES ================= -->
    <div class="pages">

      <!-- ============ DASHBOARD ============ -->
      <section class="page active" id="pageDashboard">

        <div class="cards-wrapper">

          <!-- PRICE CARD -->
          <article class="card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">Price (INJ/USDT)</div>
            <div class="value-row"><span id="price">0.0000</span></div>

            <div class="perf">
              <span id="arrow24h" class="arrow flat">â–º</span>
              <span id="pct24h" class="pct flat">0.00%</span>
              <span style="opacity:.65;font-weight:900;font-size:.78rem">24h</span>
            </div>
            <div class="perf">
              <span id="arrowWeek" class="arrow flat">â–º</span>
              <span id="pctWeek" class="pct flat">0.00%</span>
              <span style="opacity:.65;font-weight:900;font-size:.78rem">1W</span>
            </div>
            <div class="perf">
              <span id="arrowMonth" class="arrow flat">â–º</span>
              <span id="pctMonth" class="pct flat">0.00%</span>
              <span style="opacity:.65;font-weight:900;font-size:.78rem">1M</span>
            </div>

            <!-- 24H bar -->
            <div class="bar-container">
              <div class="open-marker"></div>
              <div class="bar-fill" id="priceBar"></div>
              <div class="bar-line" id="priceLine"></div>
              <div class="bar-label">24H</div>
            </div>
            <div class="bar-values">
              <div class="left">Min: <span id="priceMin">--</span></div>
              <div class="center">Open: <span id="priceOpen">--</span></div>
              <div class="right">Max: <span id="priceMax">--</span></div>
            </div>

            <!-- 1W bar -->
            <div class="bar-container">
              <div class="open-marker"></div>
              <div class="bar-fill" id="weekBar"></div>
              <div class="bar-line" id="weekLine"></div>
              <div class="bar-label">1W</div>
            </div>
            <div class="bar-values">
              <div class="left">Min: <span id="weekMin">--</span></div>
              <div class="center">Open: <span id="weekOpen">--</span></div>
              <div class="right">Max: <span id="weekMax">--</span></div>
            </div>

            <!-- 1M bar -->
            <div class="bar-container">
              <div class="open-marker"></div>
              <div class="bar-fill" id="monthBar"></div>
              <div class="bar-line" id="monthLine"></div>
              <div class="bar-label">1M</div>
            </div>
            <div class="bar-values">
              <div class="left">Min: <span id="monthMin">--</span></div>
              <div class="center">Open: <span id="monthOpen">--</span></div>
              <div class="right">Max: <span id="monthMax">--</span></div>
            </div>
          </article>

          <!-- PRICE CHART (1D) -->
          <article class="card chart-card">
            <div class="card-tools">
              <div class="chart-overlay" id="chartOverlay">
                <span id="chartPrice">--</span>
              </div>
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">Price Chart (1D)</div>
            <div class="sub-row" style="text-align:left;margin-top:.25rem">Hover/touch per fissare un punto</div>

            <div class="stake-chart-wrap" style="height:240px;margin-top:.85rem">
              <canvas id="priceChart"></canvas>
            </div>
          </article>

          <!-- STAKED -->
          <article class="card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">Staked</div>
            <div class="value-row"><span id="stake">0.0000</span> <span style="opacity:.7">INJ</span></div>
            <div class="sub-row" id="stakeUsd">â‰ˆ $0.00</div>

            <div class="bar-container stake-container">
              <div class="bar-fill stake-fill" id="stakeBar"></div>
              <div class="bar-line" id="stakeLine"></div>
              <div class="stake-percent" id="stakePercent">0.0%</div>
            </div>
            <div class="bar-values">
              <div class="left">Min: <span id="stakeMin">0</span></div>
              <div class="right">Target: <span id="stakeMax">1000</span></div>
            </div>

            <div class="stake-chart-wrap">
              <canvas id="stakeChart"></canvas>
            </div>
          </article>

          <!-- REWARDS -->
          <article class="card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">Rewards</div>
            <div class="value-row"><span id="rewards">0.0000000</span> <span style="opacity:.7">INJ</span></div>
            <div class="sub-row" id="rewardsUsd">â‰ˆ $0.00</div>

            <div class="bar-container reward-container">
              <div class="bar-fill reward-fill" id="rewardBar"></div>
              <div class="bar-line" id="rewardLine"></div>
              <div class="reward-percent" id="rewardPercent">0.0%</div>
            </div>
            <div class="bar-values">
              <div class="left">Min: <span id="rewardMin">0</span></div>
              <div class="right">Max: <span id="rewardMax">0.1</span></div>
            </div>

            <div class="reward-chart-wrap">
              <canvas id="rewardChart"></canvas>
            </div>

            <div class="reward-tools">
              <button class="mini-btn" id="rewardLiveBtn">LIVE</button>

              <div class="mini-select-wrap">
                <div class="mini-select-label">Filter</div>
                <select class="mini-select" id="rewardFilter">
                  <option value="0">0+</option>
                  <option value="0.0002">0.0002+</option>
                  <option value="0.001">0.001+</option>
                  <option value="0.01">0.01+</option>
                </select>
              </div>
            </div>

            <div class="reward-timeline">
              <input type="range" id="rewardTimeline" min="0" max="0" value="0" />
              <div class="reward-timeline-meta" id="rewardTimelineMeta">â€”</div>
            </div>
          </article>

          <!-- APR -->
          <article class="card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">APR</div>
            <div class="value-row"><span id="apr">0.00</span><span style="opacity:.7">%</span></div>
            <div class="sub-row" style="text-align:right">Inflation-based estimate</div>
          </article>

          <!-- NET WORTH -->
          <article class="card networth-card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="networth-top">
              <div class="networth-title">Net Worth</div>
            </div>

            <div class="networth-top2">
              <button class="nw-scale-btn" id="nwScaleBtn">LIN</button>
              <button class="nw-live-btn" id="nwLiveBtn">LIVE</button>
            </div>

            <div class="networth-metrics">
              <div class="networth-usd" id="netWorthUsd">$0.00</div>
              <div class="networth-pnl flat" id="netWorthPnl">PnL: â€”</div>
            </div>

            <div class="networth-chart">
              <canvas id="netWorthChart"></canvas>
            </div>

            <div class="networth-tf">
              <div class="tf-switch" id="nwTfSwitch">
                <button class="tf-btn" data-tf="live">LIVE</button>
                <button class="tf-btn active" data-tf="1d">1D</button>
                <button class="tf-btn" data-tf="1w">1W</button>
                <button class="tf-btn" data-tf="1m">1M</button>
                <button class="tf-btn" data-tf="1y">1Y</button>
                <button class="tf-btn" data-tf="all">ALL</button>
              </div>
            </div>

            <div class="networth-asset">
              <img class="inj-logo" src="https://cryptologos.cc/logos/injective-inj-logo.png?v=029" alt="INJ" />
              <span class="nw-asset-name">Injective</span>
              <span class="nw-asset-qty"><span id="nwInjQty">0.0000</span> INJ</span>
              <span class="nw-asset-sep">â€¢</span>
              <span class="nw-asset-price" id="nwInjPx">$0.00</span>
              <span class="nw-asset-sep">â€¢</span>
              <span class="nw-asset-usd" id="netWorthInj">0.0000 INJ</span>
            </div>
          </article>

          <!-- VALIDATOR -->
          <article class="card">
            <div class="card-tools">
              <button class="card-expand" aria-label="Expand">â¤¢</button>
            </div>

            <div class="label">Validator</div>

            <div class="nw-mini" style="margin-top:.9rem">
              <div class="nw-mini-left">
                <img class="nw-coin-logo-img" src="https://cryptologos.cc/logos/injective-inj-logo.png?v=029" alt="INJ" />
                <div class="nw-mini-meta">
                  <div class="nw-mini-title" id="validatorName">Validator</div>
                  <div class="nw-mini-sub" id="validatorAddr">â€”</div>
                </div>
              </div>

              <div class="validator-right">
                <span class="validator-dot" id="validatorDot"></span>
              </div>
            </div>
          </article>

        </div>
      </section>

      <!-- ============ EVENTS PAGE ============ -->
      <section class="page page-events" id="pageEvents">

        <div class="events-head">
          <div class="events-title">
            <h2>Events</h2>
            <div class="events-sub">Stake / Rewards / Price events (local + cloud merge)</div>
          </div>

          <button class="events-clear" id="eventsClearBtn">Clear</button>
        </div>

        <div class="events-card">
          <div class="events-table-wrap">
            <table class="events-table">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Title</th>
                  <th>When</th>
                  <th>Detail</th>
                </tr>
              </thead>
              <tbody id="eventsTableBody"></tbody>
            </table>
          </div>

          <div class="events-empty" id="eventsEmpty" style="display:none;">
            No events yet.
          </div>
        </div>
      </section>

    </div>

    <!-- ================= FOOTER ================= -->
    <div class="last-update" id="updated">Last update: --</div>

    <footer class="pro-footer">
      <span class="pro-pill" id="cloudStatus">Cloud: Synced</span>
      <span class="pro-dot">â€¢</span>
      <span class="pro-meta" id="cloudHistory">Â· 0 pts</span>
    </footer>

  </main>
</body>
</html>
